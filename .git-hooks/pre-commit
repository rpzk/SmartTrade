#!/bin/bash
# Pre-commit hook to validate no mock data policy
# 
# Para instalar este hook:
# cp .git-hooks/pre-commit .git/hooks/pre-commit
# chmod +x .git/hooks/pre-commit

echo "üîç Validando pol√≠tica de dados reais..."

# Executar validador
python3 validate_no_mock_data.py

# Verificar resultado
if [ $? -ne 0 ]; then
    echo ""
    echo "‚ùå COMMIT BLOQUEADO!"
    echo "‚ö†Ô∏è  Seu c√≥digo cont√©m viola√ß√µes da pol√≠tica de dados reais"
    echo "üìñ Consulte DATA_POLICY.md para mais informa√ß√µes"
    echo ""
    echo "Para corrigir:"
    echo "  1. Remova todos os dados simulados/mockados"
    echo "  2. Use apenas dados reais da API BingX"
    echo "  3. Execute 'python3 validate_no_mock_data.py' novamente"
    echo ""
    exit 1
fi

echo "‚úÖ Valida√ß√£o bem-sucedida! Prosseguindo com commit..."
exit 0
